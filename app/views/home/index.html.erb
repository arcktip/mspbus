<div id="outside" style="display:none;" class="alert alert-info">Your geolocation is outside of the Twin Cities, so I'll use a default location instead. Use the search bar to locate yourself.</div>
<div id="noroute" style="display:none;" class="alert alert-info">Sorry! We don't support route searching yet, please enter an address.</div>

<div class="home-container">

  <div class="container">     
    <div>
      <div id="view-about" class="views" style="text-align:center;font-size:120%;margin:0 auto;width:450px;">
        <h1>omgTransit.com</h1>
        <h2 style="font-size:150%">Getting you from A to B,<br>without your C(ar)</h2>
        <h3>Real-time Arrival Information</h3>
        <p>Your bus is arriving in <span style="display:inline;float:none;" class="label route-chip p5">7 Min</span>.</p>
        <h3>Color-coded for Readability</h3>
        <p style="zoom:130%">
          <span class="label label-important">0&ndash;5 Min</span>
          <span class="label label-warning">5&ndash;12 Min</span>
          <span class="label label-success">12&ndash;20 Min</span>
          <span class="label label-info">&gt;20 Min</span>
        </p>
        <h3>Intelligent Fallbacks</h3>
        <p>If real-time info isn't available, we use schedules.</p>
        <p>Your bus is arriving in <span style="display:inline;float:none;" class="label route-chip p5">7 Min <i class="icon-question-sign"></i></span>.
        
        <h3>Route Directions</h3>
        <p>Arrows indicate which <b>direction</b> a route goes.</p>
        <p>The #16 Northbound is leaving in  <span style="display:inline;float:none;" class="label route-chip p5"><i class="icon-arrow-up"></i>16 &ndash; 7 Min</span>.
        <p style="zoom:130%">
          <span class="label dir_label"><i class="icon-arrow-up"></i> = NORTHBOUND</span>
          <span class="label dir_label"><i class="icon-arrow-down"></i> = SOUTHBOUND</span>
        </p>
        <p style="zoom:130%">
          <span class="label dir_label"><i class="icon-arrow-right"></i> = EASTBOUND</span>
          <span class="label dir_label"><i class="icon-arrow-left"></i> = WESTBOUND</span>
          <span class="label dir_label"><i class="icon-refresh"></i> = LOOP</span>
        </p>

        <h3>Many Kinds of Transit</h3>

        <table style="margin:0 auto">
          <tr>
            <td><%= image_tag("bus-icon.svg", :size => "19x19", :alt => "Bus Icon", :style => "zoom:120%;") %></td><td>Bus Stop</td>
            <td style="padding-left:2em;"><%= image_tag("train-icon.svg", :size => "19x19", :alt => "Bus Icon", :style => "zoom:120%") %></td><td>Train Station</td>
            <td>
          </tr>
          <tr>
            <td><%= image_tag("bike_station.png", :size => "19x19", :alt => "Bus Icon", :style => "margin-bottom:10px;zoom:140%") %></td><td>Bike Rental</td>
            <td style="padding-left:2em;"><%= image_tag("car.png", :size => "19x19", :alt => "Bus Icon", :style => "zoom:150%") %></td><td>Car Rental</td>
            <td>
          </tr>
        </table>
        <p><%= image_tag("you-are-here.png", :size => "20x20", :alt => "You Are Here", :style => "margin-bottom:0.25em") %> You Are Here</p>

        <h3>Click Stop Buttons</h3>
        <div style="position:relative;">
          <%= image_tag("cursor-hand.png", :size=>"32x32", :alt => "Hand Cursor", :style => "position:absolute;left:310px;top:35px;z-index:10000;") %>
          <div class="btn stopbutton ">
            <a href="#" onclick="return false;">
              <div class="distance-label">1086 ft</div>
              <span class="stop-name">Nicollet Mall &amp; 7 St S</span>
              <div class="real-time clearfix">
                <span class="label route-chip p0">
                  <i class="icon-arrow-right"></i> 
                  <b>2C</b>
                  <span class="route-chip-italic">– 4 Min</span>
                </span>
                <span class="label route-chip p5">
                  <i class="icon-arrow-up"></i> 
                  <b>10H</b>
                  <span class="route-chip-italic">– 11 Min <i title="Real-time data unavailable" class="icon-question-sign"></i></span>
                </span>
                <span class="label route-chip p12">
                  <i class="icon-arrow-up"></i> 
                  <b>11B</b>
                  <span class="route-chip-italic">– 15 Min</span>
                </span>
                <span class="label route-chip p20">
                  <i class="icon-arrow-right"></i> 
                  <b>16</b>
                  <span class="route-chip-italic"></span>
                </span>
              </div>
            </a>
          </div>
        </div>

        <h3>For Detailed Information</h3>

        <div style="text-align:left">
          <div class="stop-header">
              <span id="thestop" style="font-weight:bold;margin:0">Nicollet Mall &amp; 7 St S</span>
            <div class="btn pull-right" id="mapshow" style="margin-top:0;margin-right:5px;"><i class="icon-picture" style="font-size: 18px; color: grey;"></i></div>
          </div>

          <table class="table stop-table" style="">
            <thead>
              <tr style="font-weight:bold"><th style="padding-left:33px">Rt</th><th>Description</th><th>Arrival</th></tr>
            </thead>
            <tbody class="result"> 
              <tr class="route-item p0" data-route="4">
                <td class="route" nowrap=""><i class="icon-arrow-right"></i> 2C</td>
                <td><span class="desc" title="Johnson St / Silver Lk Vlg">Johnson St / Silver Lk Vlg</span></td>
                <td class="time"><i>4 Min</i> </td>
              </tr>
             
              <tr class="route-item p5" data-route="10">
                <td class="route" nowrap=""><i class="icon-arrow-up"></i> 10H</td>
                <td><span class="desc" title="Central-51">Central-51</span></td>
                <td class="time"><i>11 Min <i title="Real-time data unavailable" class="icon-question-sign"></i></i> </td>
              </tr>
             
              <tr class="route-item p12" data-route="11">
                <td class="route" nowrap=""><i class="icon-arrow-up"></i> 11B</td>
                <td><span class="desc" title="2nd St NE / Grand-29Av">2nd St NE / Grand-29Av</span></td>
                <td class="time"><i>15 Min</i> </td>
              </tr>
             
              <tr class="route-item p20" data-route="18">
                <td class="route" nowrap=""><i class="icon-arrow-right"></i> 16</td>
                <td><span class="desc" title="Downtown">Downtown</span></td>
                <td class="time"><i>1:55</i> </td>
              </tr>
             
              <tr class="route-item p20" data-route="10">
                <td class="route" nowrap=""><i class="icon-arrow-up"></i> 10H</td>
                <td><span class="desc" title="Central-51">Central-51</span></td>
                <td class="time"><i>2:10</i> </td>
              </tr>

            </tbody>
          </table>
        </div>


        <h3>Developed by the Good Guys</h3>
        <p><b>omgTransit.com</b> was created as part of the<br>2013 <a href="http://hackforchange.org/">National Day of Civic Hacking</a> by</p>

        <div class="aboutprof">
          <a href="http://mattdecuir.com"><img src="/assets/matt_decuir.jpg" width="100" height="100">
          <br>Matt Decuir<br>UX Designer</a>
        </div>

        <div class="aboutprof">
          <a href="https://twitter.com/itooamaneatguy"><img src="/assets/jason_kadrmas.jpg" width="100" height="100">
          <br>Jason Kadrmas<br>Developer</a>
        </div><br>

        <div class="aboutprof">
          <a href="http://rbarnes.org"><img src="/assets/richard_barnes.jpg" width="100" height="100">
          <br>Richard Barnes<br>Developer</a>
        </div>

        <div class="aboutprof">
          <a href="http://brobston.com"><img src="/assets/andrew_brobston.jpg" width="100" height="100">
          <br>Andrew Brobston<br>Sys Admin</a>
        </div>
      </div>


      <div id="view-table" class="views">
        <div id="table-results">

        </div>
      </div>

      <div id="view-map" class="views">
        <div id="map-canvas"></div>
      </div>

      <div id="view-route" class="views">
        <div class="clearfix directions-header-container">
          <h4 class="blue"><i class="icon-globe"></i> Where do you want to go?</h4>
        </div>
        <div class="route-box">
          <div class="route-input">
            <div class="input-prepend control-group origin-container">
              <span class="add-on loc-arrow" data-input="origin"><i class="icon-location-arrow"></i></span>
              <input type="text" name="origin" id="origin" placeholder="Start" value="Current Location" class="span2">
            </div>
            <div class="input-prepend control-group destination-container">
              <span class="add-on loc-arrow" data-input="destination"><i class="icon-location-arrow"></i></span>
              <input type="text" name="destination" id="destination" placeholder="Destination" value="" class="span2">
            </div>
            <button class="btn btn-exchange"><i class="icon-exchange"></i></button>
            <button id="btn-route" class="btn btn-primary" style="margin:-10px 0 0 5px;"><i class="icon-globe"></i> Route</button>
          </div>
        </div>
        <div id="directions-found-head" class="clearfix">
          <h4 class="directions-header pull-left blue"><i class="icon-compass"></i> Directions</h4>
          <a class="btn btn-info" id="flip-directions-left"> <i class="icon-arrow-left"> </i></a>
          <a class="btn btn-info" id="flip-directions-right"><i class="icon-arrow-right"></i></a>
        </div>
        <div id="directions-found">
<!--          <div class="directions-box"></div>-->
        </div>
      </div>
    </div>
  </div>
</div>

<% #If fade is added to the modal dialog below, the UI can become unusable if ambiguity is triggered too close to another modal, such as occurs when disambiguitating two addresses in the routing function %>
<div class="modal hide" id="ambiguity">
  <div class="modal-header">
    <button type="button" class="close" id="close-ambiguity" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3><%= image_tag("logo-small.png", :size => "24x24", :alt => "MSP Bus Logo") %>&nbsp;Which location?</h3>
  </div>
  <div class="modal-body" style="text-align:center;">
    <div id="ambiguitybuttons" class="btn-group btn-group-vertical" style="width:100%;">
    </div>
  </div>
</div>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=<%= Rails.application.config.google_maps_api_key %>&sensor=true">
</script>

<%= javascript_include_tag "realtime" %>
<%= javascript_include_tag "maps" %>
<%= javascript_include_tag "route_input_view" %>

<%= javascript_include_tag "home" %>


